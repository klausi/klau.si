<!DOCTYPE html>
<html lang="en">

<head>
  <meta http-equiv="X-UA-Compatible" content="IE=edge">
  <meta http-equiv="content-type" content="text/html; charset=utf-8">

  <!-- Enable responsiveness on mobile devices-->
  <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1">

  <title>Klausi&#x27;s Weblog - Screencasts with RecordMyDesktop, ffmpeg conversion for HTML5 video</title>

  
  <link rel="alternate"
    type="application/rss+xml"
    title="RSS" href="https://klau.si/rss.xml">
  

  
  <script src="https://cdnjs.cloudflare.com/ajax/libs/slideout/1.0.1/slideout.min.js"></script>
  
  

  
  <link rel="stylesheet" href="https://klau.si/site.css">
  
  

  
  
</head>

<body>
  <div class="container">

    <div id="mobile-navbar" class="mobile-navbar">
      <div class="mobile-header-logo">
        <a href="https:&#x2F;&#x2F;klau.si" title="Klausi&#x27;s Weblog" rel="home" class="site-logo site-title">
          <img src="https://klau.si/logo.png" alt="Klausi&#x27;s Weblog logo">
        </a>
        <a href="/" class="logo">Klausi&#x27;s Weblog</a>
      </div>
      <div class="mobile-navbar-icon icon-out">
        <span></span>
        <span></span>
        <span></span>
      </div>
    </div>

    <nav id="mobile-menu" class="mobile-menu slideout-menu slideout-menu-left">
      <ul class="mobile-menu-list">
        
        <li class="mobile-menu-item">
          <a href="https:&#x2F;&#x2F;klau.si">
            Home
          </a>
        </li>
        
        <li class="mobile-menu-item">
          <a href="https:&#x2F;&#x2F;klau.si&#x2F;tags&#x2F;speaking">
            Speaking
          </a>
        </li>
        
        <li class="mobile-menu-item">
          <a href="https:&#x2F;&#x2F;klau.si&#x2F;tags">
            Categories
          </a>
        </li>
        
        <li class="mobile-menu-item">
          <a href="https:&#x2F;&#x2F;klau.si&#x2F;rss.xml">
            RSS
          </a>
        </li>
        
      </ul>
    </nav>

    <header id="header">
      <div class="logo">
        <a href="https:&#x2F;&#x2F;klau.si" title="Klausi&#x27;s Weblog" rel="home" class="site-logo site-title">
          <img src="https://klau.si/logo.png" alt="Klausi&#x27;s Weblog logo">
        </a>
        <a href="https:&#x2F;&#x2F;klau.si">Klausi&#x27;s Weblog</a>
      </div>
      <nav class="menu">
        <ul>
          
          <li>
            <a href="https:&#x2F;&#x2F;klau.si">
              Home
            </a>
          </li>
          
          <li>
            <a href="https:&#x2F;&#x2F;klau.si&#x2F;tags&#x2F;speaking">
              Speaking
            </a>
          </li>
          
          <li>
            <a href="https:&#x2F;&#x2F;klau.si&#x2F;tags">
              Categories
            </a>
          </li>
          
          <li>
            <a href="https:&#x2F;&#x2F;klau.si&#x2F;rss.xml">
              RSS
            </a>
          </li>
          
        </ul>
      </nav>
    </header>

    <main>
      <div class="content" id="mobile-panel">
        



<article class="post">
    
    <header class="post__header">
        <h1 class="post__title">
            <a href="https:&#x2F;&#x2F;klau.si&#x2F;screencasts-recordmydesktop-ffmpeg-conversion-html5-video&#x2F;">Screencasts with RecordMyDesktop, ffmpeg conversion for HTML5 video</a>
        </h1>
        <div class="post__meta">
            <span class="post__time">2013-05-12</span>
            
        </div>
    </header>

    <div class="post-content">
      <p>Producing a demo video for <a href="http://portland2013.drupal.org/session/rest-and-serialization-drupal-8">my DrupalCon Portland presentation</a> caused a bit frustration with video editing tools, so here is a simple solution to cut and convert a video on Ubuntu.<span id="continue-reading"></span></p>
<p>First I recorded my screencast with RecordMyDesktop, a simple tool to capture the happenings on your screen. It even supports only recording one window, so you don't need to include the rest of your irrelevant desktop. Installation:</p>
<pre style="background-color:#191919;color:#f8f8f2;"><code><span>sudo aptitude install gtk-recordmydesktop</span><span>
</span></code></pre>
<p>The output file it creates uses the Ogg Theroa Video format, which is free and open, but unfortunately not used on a lot on other platforms. For HTML5 video H.264/MPEG-4 now seems to be the most widely spread format, so we need to convert that. I tried with various graphical video editors such as PiTiVi, kdenlive and OpenShot, but not any of them produced useful results. They always changed the resolution, used the wrong codec, a different frame rate or blew up the output file. Their preconfigured rendering profiles just don't make sense for simply converting and cutting a video for the web.</p>
<p>I decided to look into the command line tool ffmpeg directly and found it surprisingly easy to use. Installation with the H.264 codec:</p>
<pre style="background-color:#191919;color:#f8f8f2;"><code><span>sudo aptitude install ffmpeg x264</span><span>
</span></code></pre>
<p>To convert the video file, cut off everything after minute 1:34 and remove the audio track I used this command:</p>
<pre style="background-color:#191919;color:#f8f8f2;"><code><span>ffmpeg -i input-file.ogv -vcodec libx264 -acodec none -t 00:01:34.0 output-file.mp4</span><span>
</span></code></pre>
<p>Done! It also reduced the file size from 4 MB for the Ogg file to 1.4 MB for the MP4 file without reducing the visual quality, thank you ffmpeg :-)</p>

    </div>

    
    

    <div class="post-footer">
        
            
                <div class="post-tags">
                    
                        <a href="https://klau.si/tags/software/">#software</a>
                    
                        <a href="https://klau.si/tags/ubuntu/">#ubuntu</a>
                    
                </div>
            
            
                <div class="post-nav">
                    
                        <a class="previous" href="https:&#x2F;&#x2F;klau.si&#x2F;state-project-application-issue-queue-2013&#x2F;">‹ State of the project application issue queue 2013</a>
                    
                    
                        <a class="next" href="https:&#x2F;&#x2F;klau.si&#x2F;blog&#x2F;drupalcon-portland-rest-serialization-drupal-8&#x2F;">Drupalcon Portland 2013 talk: REST and Serialization in Drupal 8 ›</a>
                    
                    
                    
                </div>
            

        

    </div>

    
    
</article>


      </div>
    </main>

    
    <footer>
      <p><a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons License"
            style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png" /></a><br />This work by
        <span xmlns:cc="http://creativecommons.org/ns#" property="cc:attributionName">Klaus Purer</span> is licensed
        under a <a rel="license" href="https://creativecommons.org/licenses/by-sa/4.0/">Creative Commons
          Attribution-ShareAlike 4.0 International License</a>.
      </p>
    </footer>
    
  </div>

  
  <script type="text/javascript" src="https://klau.si/even.js"></script>
  
</body>

</html>
