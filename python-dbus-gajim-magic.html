<!DOCTYPE html>
<html lang="en" dir="ltr" class="no-js">
  <head>
    <meta charset="utf-8" />
<meta name="Generator" content="Drupal 8 (https://www.drupal.org)" />
<meta name="MobileOptimized" content="width" />
<meta name="HandheldFriendly" content="true" />
<meta name="viewport" content="width=device-width, initial-scale=1.0" />
<meta http-equiv="X-UA-Compatible" content="IE=edge,chrome=1" />
<link rel="canonical" href="node/18.html" />
<link rel="shortlink" href="node/18.html" />
<link rel="revision" href="node/18.html" />

    <title>Python Dbus Gajim Magic | Klausi&#039;s Weblog</title>
    <link rel="stylesheet" media="all" href="files/css/css_c8uKrkdw3uTl-xXgGz0TtfMpOZq9ps2b3GoXRcXqFfo.css%3Fprerue.css" />
<link rel="stylesheet" media="all" href="https://fonts.googleapis.com/css?family=Lato|Inconsolata|Merriweather:400,400italic,700,700italic&amp;subset=latin,latin-ext" />
<link rel="stylesheet" media="all" href="files/css/css_nnYw3irVvzE0RwPEuTYB4Tml0tweJsM-gJZkF-TjK4U.css%3Fprerue.css" />

    
<!--[if lte IE 8]>
<script src="/files/js/js_VtafjXmRvoUgAzqzYTA3Wrjkx9wcWhjP0G4ZnnqRamA.js"></script>
<![endif]-->
<script src="core/assets/vendor/modernizr/modernizr.min.js%3Fv=3.3.1"></script>

  </head>
  <body class="writer path-node page-node-type-story">
        <a href="node/18.html#main-content" class="visually-hidden focusable skip-link">
      Skip to main content
    </a>
    
      <div class="dialog-off-canvas-main-canvas" data-off-canvas-main-canvas>
    <div id="wrapper" class="wrapper" style="max-width: 630px;">
  
  <header role="banner" id="site-header">
  	<div class="head-wrap clearfix">
        <div class="region region-header">
    <div id="block-writer-branding" class="block block-system block-system-branding-block">
  
    
        <div class="logo-wrap">
      <a href="index.html" title="Home" rel="home" id="logo">
        <img src="files/uhura-drupal65_0.png" alt="Home" />
      </a>
    </div>
  
      <hgroup class="site-name-wrap">
              <h1 id="site-name">
          <a href="index.html">Klausi&#039;s Weblog</a>
        </h1>
                    <h2 id="site-slogan">Trying to do a useful Blog</h2>
          </hgroup>
  </div>

  </div>

        <div class="region region-main-menu">
    <nav role="navigation" aria-labelledby="block-writer-main-menu-menu" id="block-writer-main-menu" class="block block-menu navigation menu--main">
            
  <h2 class="visually-hidden" id="block-writer-main-menu-menu">Main navigation</h2>
  

        
              <ul class="menu">
                    <li class="menu-item">
        <a href="node/50.html" title="Drupal development setup on Ubuntu" data-drupal-link-system-path="node/50">Drupal dev on Ubuntu</a>
              </li>
                <li class="menu-item">
        <a href="rss.xml" title="Subscribe to this feed to get updates on new blog posts" data-drupal-link-system-path="rss.xml">RSS feed</a>
              </li>
                <li class="menu-item">
        <a href="node/51.html" data-drupal-link-system-path="node/51">speaking</a>
              </li>
                <li class="menu-item">
        <a href="node/1.html" data-drupal-link-system-path="node/1">about</a>
              </li>
                <li class="menu-item">
        <a href="node/53.html" title="contact klausi" data-drupal-link-system-path="node/53">contact</a>
              </li>
        </ul>
  


  </nav>

  </div>

	  </div>
  </header>

  

  
  <main role="main" class="main-content">
  	<a id="main-content"></a>
          <div id="highlighted">  <div class="region region-highlighted">
    <div data-drupal-messages-fallback class="hidden"></div>

  </div>
</div>
    
    
        

    
    

    
      <div class="region region-content">
    <div id="block-writer-page-title" class="block block-core block-page-title-block">
  
    
      
  <h1 class="page-title"><span class="field field--name-title field--type-string field--label-hidden">Python Dbus Gajim Magic</span>
</h1>


  </div>
<div id="block-writer-easybreeze-system-main" class="block block-system block-system-main-block">
  
    
      
<article id="node-18" class=" " role="article" >

  <header>
    

    
          <div class="meta">
        <time class="submitted writer-date" datetime="2008-09-28 14:17:01" pubdate="pubdate">28 Sep 2008</time>
      </div>
    
  </header>

  <div class="node-main contextual-region">

    

    <div >
            
            <div class="clearfix text-formatted field field--name-body field--type-text-with-summary field--label-hidden field__item"><p>I like <a href="http://freedesktop.org/wiki/Software/dbus">Dbus</a> because it allows desktop applications to communicate with each other. I also like <a href="http://www.python.org/">Python</a>, a powerful scripting language that is perfect for short tasks with a minimum of commands. And finally I like <a href="http://www.gajim.org">Gajim</a>, the instant messenger of my choice for the <a href="http://jabber.rwth-aachen.de/wiki/index.php/Jabber_-_Einfach_erkl%C3%A4rt!">XMPP-Jabber network</a> (the only free [free as in free speech] instant messaging network!).</p>
<!--break--><p>Oh I forgot: I really like <a href="http://www.fsf.org">free software</a>! It allows you to study, improve and of course to modify or manipulate the software you use, according to your own needs. Ok, I should stop talking in <a href="http://www.stallman.org/">Richard Stallman</a> style and get to the point. Perhaps non-programmers, non-GNU/Linux-enthusiasts should go away now, it could be boring for you. Find some other sites to waste your time on the internet ;-)</p>
<p>The problem: I want to switch my status message on Gajim very quick, so that people (friends, work colleagues) can see when I'm working or when I'm simply available. I hate it to search and click around in some nested Gajim menus just to toggle my status message. I want to do it with a single click on a button.  The idea: I write a small script, tell Gajim via Dbus to toggle the status message and put a launcher on my GNOME panel bar.</p>
<p><a href="http://xover.fsinf.at/klausi/gajim_switch.py">The code</a>: At first you have to import the dbus library for Python, then you access a remote object from gajim that provides methods to retrieve information or send requests. All this can be done in three lines, perfect for custom scripts to tell applications what they should do. (I would have posted a nicely syntax highlighted code snippet here, but wordpress is not capable of that as far as I can see. I should switch to drupal soon.) It works fine and is really convenient. Feel free to modify the script to your own needs! (I did not add a license to it, because 13 lines aren't worth it - consider it is public domain)</p>
<p>How did I find out: Finding documentation on the internet is hard. In fact, I did a little bit reverse engineering by examining the <a href="http://trac.gajim.org/browser/tags/gajim-0.11.4/src/remote_control.py">source code of gajim for dbus connectivity</a> and an example for a <a href="http://madchicken.altervista.org/tech/2006/10/rhythmbox-096-plugin-for-gajim-status.html">rhythmbox gajim plugin</a>. Well, actually I cannot speak of reverse engineering here, because this is all free and open source software, but digging in python files is ... funny.</p>
</div>
      
  <div class="field field--name-taxonomy-vocabulary-1 field--type-entity-reference field--label-above">
    <div class="field__label">Categories</div>
          <div class="field__items">
              <div class="field__item"><a href="taxonomy/term/3.html" hreflang="en">Software</a></div>
              </div>
      </div>
<section class="comments field field--name-comment-node-story field--type-comment field--label-above comment-wrapper">
      
    <h2 class="title">Comments</h2>
    
  
  <article  data-comment-user-id="0" id="comment-45" class="comment">
  
  <h3><a href="comment/45.html#comment-45" class="permalink" rel="bookmark" hreflang="en">While this is a cool hack, I</a></h3>
  

  <div class="submitted">On <time datetime="2008-09-28 23:00:09">28 Sep 2008</time>, <a rel="nofollow" href="http://blogs.fsinf.at/mati" class="username">mati</a> said...</div>
    
  <div>
        
            <div class="clearfix text-formatted field field--name-comment-body field--type-text-long field--label-hidden field__item"><p>While this is a cool hack, I don't get whats so complicated about switching status? Its as little as klicking on the tray, going directly into the submenu and be happy?</p>
<p>Mat</p></div>
      

    
    </div>

  <ul class="links inline"><li class="comment-forbidden"></li></ul>
</article>
<article  data-comment-user-id="0" id="comment-46" class="comment">
  
  <h3><a href="comment/46.html#comment-46" class="permalink" rel="bookmark" hreflang="en">Nice script, but maybe it</a></h3>
  

  <div class="submitted">On <time datetime="2008-09-29 15:58:25">29 Sep 2008</time>, <span>kampi</span> said...</div>
    
  <div>
        
            <div class="clearfix text-formatted field field--name-comment-body field--type-text-long field--label-hidden field__item"><p>Nice script, but maybe it would be a good idea to follow the "Python Style Guide" (<a href="http://www.python.org/dev/peps/pep-0008/">http://www.python.org/dev/peps/pep-0008/</a>).</p>
<p>regards, kampi</p></div>
      

    
    </div>

  <ul class="links inline"><li class="comment-forbidden"></li></ul>
</article>
<article  data-comment-user-id="0" id="comment-47" class="comment">
  
  <h3><a href="comment/47.html#comment-47" class="permalink" rel="bookmark" hreflang="en">@mati: Too many clicks and</a></h3>
  

  <div class="submitted">On <time datetime="2008-09-30 12:39:43">30 Sep 2008</time>, <a rel="nofollow" href="http://blogs.fsinf.at/klausi/" class="username">klausi</a> said...</div>
    
  <div>
        
            <div class="clearfix text-formatted field field--name-comment-body field--type-text-long field--label-hidden field__item"><p>@mati: Too many clicks and selects for me: right click on the tray icon, select status, click change status message, select a preset message, click ok. Too many steps for me, just makes me angry each time.</p>
<p>@kampi: Sorry, but I'm used to some Drupal PHP coding standards and apologize for some formatting mistakes. If this would be a bigger hack I would consider your suggestion a good idea, but for 13 lines I'm just too lazy.</p></div>
      

    
    </div>

  <ul class="links inline"><li class="comment-forbidden"></li></ul>
</article>
<article  data-comment-user-id="0" id="comment-96" class="comment">
  
  <h3><a href="comment/96.html#comment-96" class="permalink" rel="bookmark" hreflang="en">Nice script.</a></h3>
  

  <div class="submitted">On <time datetime="2011-11-30 18:47:11">30 Nov 2011</time>, <span>davro</span> said...</div>
    
  <div>
        
            <div class="clearfix text-formatted field field--name-comment-body field--type-text-long field--label-hidden field__item"><p>Nice script.</p>
<p>mati: you can use ,for example, bluemon to send offline status when your mobile phone is not in range. That is completely automatic.</p></div>
      

    
    </div>

  <ul class="links inline"><li class="comment-forbidden"></li></ul>
</article>


  
</section>

    </div>

          <footer class="link-wrapper">
          <div class="node__links">
    <ul class="links inline"><li class="comment-forbidden"></li></ul>  </div>

      </footer>
    
    
  </div>

</article>

  </div>

  </div>

  </main>

  <footer class="page-footer">
  	  <div class="region region-footer-top">
    <nav role="navigation" aria-labelledby="block-categories-menu" id="block-categories" class="block block-menu navigation menu--secondary-menu">
      
  <h2 id="block-categories-menu">Categories</h2>
  

        
              <ul class="menu">
                    <li class="menu-item">
        <a href="taxonomy/term/6.html" title="
" data-drupal-link-system-path="taxonomy/term/6">Drupal</a>
              </li>
                <li class="menu-item">
        <a href="taxonomy/term/1.html" title="" data-drupal-link-system-path="taxonomy/term/1">Freizeit</a>
              </li>
                <li class="menu-item">
        <a href="taxonomy/term/2.html" title="" data-drupal-link-system-path="taxonomy/term/2">Gesellschaftskritik</a>
              </li>
                <li class="menu-item">
        <a href="taxonomy/term/3.html" title="" data-drupal-link-system-path="taxonomy/term/3">Software</a>
              </li>
                <li class="menu-item">
        <a href="taxonomy/term/5.html" title="" data-drupal-link-system-path="taxonomy/term/5">Uni</a>
              </li>
                <li class="menu-item">
        <a href="taxonomy/term/4.html" title="" data-drupal-link-system-path="taxonomy/term/4">Uncategorized</a>
              </li>
        </ul>
  


  </nav>
<div id="block-writer-easybreeze-block-3" class="block block-block-content block-block-content31e9598c-b49e-4c82-af38-e5c72a6fb0c7">
  
    
      
            <div class="clearfix text-formatted field field--name-body field--type-text-with-summary field--label-hidden field__item"><p><a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-sa/4.0/88x31.png" /></a><br />This work by <span xmlns:cc="http://creativecommons.org/ns#" property="cc:attributionName">Klaus Purer</span> is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/">Creative Commons Attribution-ShareAlike 4.0 International License</a>.</p>
</div>
      
  </div>

  </div>

  	  	
  	<div class="foot-wrap clearfix">
                </div>
  </footer>
</div> <!-- end wrapper -->

  </div>

    
    <script type="application/json" data-drupal-selector="drupal-settings-json">{"path":{"baseUrl":"\/","scriptPath":null,"pathPrefix":"","currentPath":"node\/18","currentPathIsAdmin":false,"isFront":false,"currentLanguage":"en"},"pluralDelimiter":"\u0003","user":{"uid":0,"permissionsHash":"e96a7765a53cb802146dc48da3834d3a470ce957d28868afe583adf3bec8d6c5"}}</script>
<script src="files/js/js_JdSNpE3Gh7Tv0XWwuGvbXkjYUqrXVCBIZ_Pf8-3EN4M.js"></script>

  </body>
</html>
